<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <link rel="icon" href="data/plane.svg" />
    <title>Brazilian Flights</title>
    <!-- https://d3js.org/ -->
    <script type="text/javascript" src="js/d3.v6.min.js"></script>

    <!-- D3 geo -->
    <script src="https://d3js.org/d3-geo.v2.min.js"></script>
    <script type="text/javascript" src="js/d3-geo-projection.v3.min.js"></script>

    <!-- CSS style -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pretty-checkbox/3.0.3/pretty-checkbox.min.css">
    </script>
    <link rel="stylesheet" href="css/spinner.css">
    </script>

    <!-- https://vega.github.io/vega-lite/ -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5.16.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.16.7"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>

    <!-- Underscore.js -->
    <script src="https://cdn.jsdelivr.net/npm/underscore@1.12.0"></script>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous">
        </script>

    <!-- Loading custom -->
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/createMap.js"></script>
    <script type="text/javascript" src="js/updateMap.js"></script>
    <script type="text/javascript" src="js/createSlider.js"></script>
    <script type="text/javascript" src="js/createCompaniesPlot.js"></script>
    <script type="text/javascript" src="js/createTypesPlot.js"></script>
    <script type="text/javascript" src="js/drawOnMap.js"></script>
    <script type="text/javascript" src="js/transitionManager.js"></script>
    <script type="text/javascript" src="js/routesFilter.js"></script>

</head>

<body onload="createViz()" class="black-background">
    <div id="main" class="hidden">
        <div id="interactiveMap" class="interactiveMap"></div>
        <div id="plots" class="plots"></div>
        <div class="checkboxContainer helpCheckboxContainer">
            <div class="pretty p-default p-curve">
                <input type="checkbox" onclick="showHelp(this.checked)" />
                <div class="state">
                    <label class="checkboxLabel">Show info</label>
                </div>
            </div>
        </div>
        <div class="checkboxContainer modesCheckboxContainer">
            <div class="pretty p-default p-curve">
                <input type="checkbox" checked onclick="transition('routes', this.checked)" />
                <div class="state">
                    <label class="checkboxLabel">Routes</label>
                </div>
            </div>
            <div class="pretty p-default p-curve">
                <input type="checkbox" checked onclick="transition('airports', this.checked)" />
                <div class="state">
                    <label class="checkboxLabel">Airports</label>
                </div>
            </div>
            <div class="pretty p-default p-curve">
                <input type="checkbox" onclick="transition('planes', this.checked)" />
                <div class="state">
                    <label class="checkboxLabel">Planes</label>
                </div>
            </div>
        </div>
        <div id="about_plane" class="about_plane"></div>
        <div id="spinner_map" class="hidden"></div>
        <div id="spinner_slider" class="hidden"></div>
        <div id="spinner_types" class="hidden"></div>
        <div id="spinner_airlines" class="hidden"></div>
    </div>
    <div id="instructions" class="instructions">
        <h1>Instructions</h1>
        <p>This is an interactive vizualization of Brazilian flights ranging from
            January 2000 to October 2020, it's part of a school project at École Polytechnique and was made by
            the students Aloysio Galvão Lopes and Igor Albuquerque Silva.</p>

        <p> You have access to four main windows that interact with each other to show
            different aspects of flights data. The main idea is that in each window you can select some specific aspects
            of the flights that you want to visualize.</p>

        <h2> The map window </h2>
        <p> In the map window you can visualize the flights in a graph that shows the origins
            and destinations in a map. There are three different modes of visualization in this window: routes, airports
            and planes.
            All of the modes can be superposed so and you can even visualize all of them at the same time.</p>

        <p> In that same window you can also select Brazil and individual states in Brazil. If you click in Brazil it'll
            appear highlighted and
            only flights with origin and destination in Brazil will be considerd. If you click outside Brazil
            international flights will again be considered and Brazil will no
            longer be highlighted. In the same way if Brazil is hightlighted and you click in an individual state only
            flights that involve that state will be considered, you can select
            multiple sates in Brazil to see the routes considering just those states. Again yo should deselect all the
            selected states or click outside Brazil to reset the selection.
        </p>

        <p> The first mode is routes, in this mode you can visualize the planes routes. Their relative importance is
            shown by the color intensity.</p>
        <p> The second mode is airports, in that mode you can visualize the airports. Their relative importance is show
            as the area of the circle that is over a given airport.
            If you place your mouse over an airport you can see other inforation, such as the name and the number of
            flights in the current selection.
        </p>
        <p> The last mode is planes, in that mode you can visualize individual planes. The planes shown in this mode are
            not real, they are simulated based on the data of the current selection.
            In this mode you can see the relative speed of given routes as well as if the routes are delayed. A delayed
            plane appear in red so if a route has lots of red planes you know that the planes are delayed very often in
            that route.
            If you hover over an idividual plane it'll become yeallow meaning that this plane is selected. When a plane
            is selected additional information about that plane and it's route are shown in the bottom right corner of
            the map. </p>

        <p> You are also able to change the zoom on the map by using the mouse scroll or the touchpad. </p>

        <h2> The timeline window </h2>
        <p> The timeline window lies just below the map window and its purpose is to select the flights based on a given
            period.</p>
        <p> The complete period visible is this window will act as the considered perion for all of the othe windows.
            You can change the considered period by zooming in this window (using your mouse scroll or touchpad to zoom)
            and
            by clicking and draging left or right. The defaul selection will cover all of the data, form January 2000 to
            October 2020.
        </p>

        <p> This window also shows the flights activity in a line plot that is drawn over the period. This plot is not
            inteded to provide accurate information but rather to facilitate the navigation in this view and conveya
            qualitative comparison.</p>
    </div>
    <div id="main_spinner" class="loader loader-large modal"></div>
</body>

</html>